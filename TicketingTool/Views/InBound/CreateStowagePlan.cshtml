@model TicketingTool.Models.ViewModel.vm_StowagePlan
@{
    ViewBag.Title = "CreateStowagePlan";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/dist/css/custom.css" rel="stylesheet" />

<section class="content-header">
    <h1>
        Generate
        <small>Stowage Plan </small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-gear"></i> InBound</a></li>
        <li class="active">Stowage Plan</li>
    </ol>
</section>

<section class="content">
    <input type="text" id="stwid" style="display:none" />

    <div class="box box-primary box-solid bg-info">
        <div class="box-header with-border">
            <h3 class="box-title">Create Stowage Plan (Vessel Side View)</h3>
            <div class="box-tools pull-right">
                @if (ViewBag._mainPlan.approved == false)
                {
                    <a href="#" class="btn btn-sm btn-success" style="display:none" id="btnPrint">Print</a>
                }
                else
                {
                    <a href="#" class="btn btn-sm btn-success" id="btnPrint">Print</a>
                }
                <a href="#" class="btn btn-sm btn-success btnApprove" id="btnApprove">Verify & Approve</a>
                <a href="#" class="btn btn-sm btn-success btnsaves" id="btnsaves">Save</a>
                <a href="@Url.Action("Index","InBound")" class="btn btn-sm btn-danger btnCancel" id="btnCancels">Cancel</a>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="form-group col-md-3">
                    <label for="exampleInputEmail1">Port Call ID <span class="mandatoryIndicator">*</span></label>
                    <input type="text" class="form-control input-sm" value="@Model.auto_id" readonly="readonly" id="auto_id" placeholder="Auto ID">
                </div>
                <div class="form-group col-md-3">
                    <label for="exampleInputtext1">VESSEL NAME <span class="mandatoryIndicator">*</span></label>
                    <input type="text" class="form-control input-sm" value="@Model.vesselname" readonly="readonly" id="vesselname">

                </div>
                <div class="form-group col-md-3">
                    <label for="exampleInputtext1">LAO/BEAM/DEAPTH<span class="mandatoryIndicator">*</span></label>
                    <input type="text" class="form-control input-sm" value="@Model.loabeamdeapth" readonly="readonly" id="loabeamdeapth">
                </div>
                <div class="form-group col-md-3">
                    <label for="exampleInputtext1">CARGO HOLDS CAPACITIES<span class="mandatoryIndicator">*</span></label>
                    <input type="text" class="form-control input-sm" value="@Model.capacities" readonly="readonly" id="capacities">
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="exampleInputEmail1">DEADWEIGHT (Summer) (MT)<span class="mandatoryIndicator">*</span></label>
                        <input type="text" class="form-control" value="@Model.deadweight" readonly="readonly" id="deadweight">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="exampleInputEmail1">
                            ARRIVAL ON <span class="mandatoryIndicator">*</span>
                        </label>
                        <input class="form-control input-sm" id="arrival_date" value=@ViewBag._mainPlan.arrival_date placeholder="DD/MM/YYYY">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="exampleInputEmail1">
                            VESSEL SAILED ON<span class="mandatoryIndicator">*</span>
                        </label>
                        <input class="form-control input-sm" id="sailedon_date" value=@ViewBag._mainPlan.sailedon_date placeholder="DD/MM/YYYY">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="exampleInputEmail1">
                            Net Quantity:<span class="mandatoryIndicator">*</span>
                        </label>
                        <input type="text" class="form-control" id="gross_weight_of_cargo" value="@Model.gross_weight_of_cargo" readonly="readonly" placeholder="">
                    </div>
                </div>
            </div>
        </div>
        <div class="box-body">
            <table border="1" style="width: 100%">
                <thead>
                    <tr>
                        <th style="background-color: aquamarine; text-align: center">DESTINATION:</th>
                        <th style="background-color: aquamarine; text-align: center">HOLD:</th>
                        <th style="background-color: aquamarine; text-align: center">Quantity:</th>
                        <th style="background-color: aquamarine; text-align: center"> Marks & Nos:</th>
                        <th style="background-color: aquamarine; text-align: center"> Type of Cargo:</th>
                        <th style="background-color: aquamarine; text-align: center"> Receiver:</th>
                        <th style="background-color: aquamarine; text-align: center"> Other Info:</th>
                        <th style="background-color: aquamarine; text-align: center">Action</th>

                    </tr>
                    <tr>
                        <td style="text-align: center"><input type="text" class="form-control destination" id="destination" placeholder="Enter destination"></td>
                        <td style="text-align: center">@Html.DropDownList("capacities", new SelectList(ViewBag.Capi, "Key", "Value"), new { @class = "form-control input-sm capacities", @id = "hold" })</td>
                        <td style="text-align: center"><input type="text" id="holdQuantity" class="form-control weight" /></td>
                        <td style="text-align: center">@Html.DropDownList("marks_and_nos_name", new SelectList(ViewBag.vm_marks_and_nos, "id", "marks_and_nos_name"), new { @class = "form-control input-sm marks_and_nos_name", @id = "marks_and_nos_name" })</td>
                        <td style="text-align: center">@Html.DropDownList("cargo_type_name", new SelectList(ViewBag.Master_cargo_type, "id", "cargo_type_name"), new { @class = "form-control input-sm cargo_type_name", @id = "cargo_type_name" })</td>
                        <td style="text-align: center">@Html.DropDownList("ReceiverId", new SelectList(ViewBag.masterreciver, "id", "receiver_name"), new { @class = "form-control input-sm receiver_name", @id = "receiver_name" })</td>
                        <td style="text-align: center"><input type="text" id="otherinfo" class="form-control weight" /></td>
                        <td style="text-align: center">
                            <button class="btn btn-success btnSave" id="btnSave">
                                <i class="fa fa-save"></i>
                            </button>
                            <button class="btn btn-primary btnSave" id="btnEdit">
                                <i class="fa fa-pencil"></i> Update
                            </button>
                            <button class="btn btn-danger btnCancel" id="btnCancel">
                                <i class="fa fa-times"></i> Cancel
                            </button>
                        </td>
                    </tr>
                    <!--<tr id="columnInfoRow">
                <th style="text-align: center"></th>
                @{
                    int numHutch = int.Parse(Model.capacities);
                }
                <!-- Generate HUTCH columns based on the returned value -->
                    <!--@for (var i = 1; i <= numHutch; i++)
                {
                    <th style="text-align: center">HOLD @i</th>
                }
                <th style="text-align: center">TOTAL</th>-->
                    @*<th style="text-align: center">Action</th></tr>-->*@

                </thead>

                <!--<tbody>
            <tr style="text-align: center;">
                <td style="text-align: center">
                    <input type="text" class="form-control destination" id="destination" placeholder="Enter destination">
                </td>
                @{
                    //int numHutch = int.Parse(Model.capacities);
                }
                @for (var i = 1; i <= numHutch; i++)
                {
                    //<td style="text-align: center"><b> Enter Weight:</b> <input type="text" class="form-control weight" /> <b>Select Marks & Nos:</b> @Html.DropDownList("marks_and_nos_name", new SelectList(ViewBag.vm_marks_and_nos, "id", "marks_and_nos_name"), new { @class = "form-control input-sm marks_and_nos_name", @id = "marks_and_nos_name" }) <b> Select Type of Cargo: </b>@Html.DropDownList("cargo_type_name", new SelectList(ViewBag.Master_cargo_type, "id", "cargo_type_name"), new { @class = "form-control input-sm cargo_type_name", @id = "cargo_type_name" })<b> Select Receiver: </b>@Html.DropDownList("ReceiverId", new SelectList(ViewBag.masterreciver, "id", "receiver_name"), new { @class = "form-control input-sm receiver_name", @id = "receiver_name" })</td>
            <td style="text-align: center">
                <button class="btn btn-success btnSaves" onclick="openPopup(this)">
                    <i class="fa fa-save"></i> Save
                </button>

            </td>
                }
                <td>
                    <input type="text" class="form-control total" id="destination" placeholder="Enter Total">

                </td>-->
                @*<td>
                <button class="btn btn-success btnSave" id="btnSave">
                    <i class="fa fa-save"></i>
                </button>*@
                @*<button class="btn btn-danger deleteRow" id="deleteRowBtn">
                    <i class="fa fa-trash"></i>
                </button>*@
                @*</td>*@
                <!--</tr>
                <tr style="background-color: lightgoldenrodyellow">
                    <td>TOTAL</td>

                    @{
                        //int numHutch = int.Parse(Model.capacities);
                    }
                    @for (var i = 1; i <= numHutch; i++)
                    {
                        <td><input type="text" class="form-control destination"></td>
                    }
                    <td></td>
                </tr>
                <tr>
                    <td>PORT ROTATION</td>
                    <td style="background-color: yellowgreen" colspan="5">Mumbai-Singapore-USA-Dubai</td>
                </tr>
            </tbody>-->
            </table>
        </div>
        <div class="box-body" id="manifest">
            <div class="table-responsive">
                <table width="100%" class="table table-responsive table-hover table-striped" id="PlanInfo">
                    <thead id="theadIssuesResult" class="customThead">
                        <tr>
                            <th>Action</th>
                            <th>DESTINATION</th>
                            <th>HOLD</th>
                            <th>Quantity</th>
                            <th>Marks & Nos</th>
                            <th>Type of Cargo</th>
                            <th>Receiver</th>
                            <th>
                                Other Info
                            </th>
                            <th>
                                Status
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</section>

@section scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.6/jquery.inputmask.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/Content/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/Content/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.17.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="~/Content/custom_scripts/settings/StowagePlan_Create.js"></script>
    <script>
        $(document).ready(function () {
            $('#arrival_date').inputmask('99/99/9999', {
                placeholder: 'DD/MM/YYYY',
                alias: 'datetime',
                inputFormat: 'dd/mm/yyyy',
            });
            $('#sailedon_date').inputmask('99/99/9999', {
                placeholder: 'DD/MM/YYYY',
                alias: 'datetime',
                inputFormat: 'dd/mm/yyyy',
            });
        });
    </script>

}


